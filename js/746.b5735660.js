"use strict";(self["webpackChunkcom_hotboxtechnology_www"]=self["webpackChunkcom_hotboxtechnology_www"]||[]).push([[746],{746:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var l=t(6252),o=t(9963),a=t(3577);const u={key:0},i={class:"row my-3"},s={class:"col-9 mx-auto text-center"},r=(0,l._)("p",{class:""},[(0,l.Uk)("Create a four digit pin to allow "),(0,l._)("br"),(0,l.Uk)("for easy login access")],-1),c=(0,l.Uk)("New Pin"),p=(0,l.Uk)("Confirm Pin"),d=(0,l.Uk)("Continue"),h={key:1},m=(0,l._)("h1",{class:""},"Verification",-1),f={class:"row my-3"},v={class:"col-9 mx-auto text-center"},w=(0,l._)("p",{class:"font-weight-light"},[(0,l.Uk)("Enter 4-digit verification,"),(0,l._)("br"),(0,l.Uk)("sent to your email address")],-1),g={class:"d-flex justify-content-center"},y={class:"row my-4"},k={class:"col-9 mx-auto text-center"},O={class:""},_=(0,l.Uk)(" Code Expires in,"),b=(0,l._)("br",null,null,-1),C=(0,l.Uk)("Authorize"),x={class:"my-4"},D={class:"d-flex flex-column align-items-end justify-content-end"},I=(0,l.Uk)("Didn't get the code?"),W={key:2,style:{height:"100vh"},class:"d-flex flex-column align-items-center justify-content-center"},F=(0,l._)("p",{class:"lead text-center"},[(0,l.Uk)("Your login pin has been created"),(0,l._)("br"),(0,l.Uk)(" successfully")],-1),U=(0,l.Uk)("Home");function P(e,n,t,P,S,j){const z=(0,l.up)("ion-text"),A=(0,l.up)("ion-label"),B=(0,l.up)("ion-input"),T=(0,l.up)("ion-item"),V=(0,l.up)("ion-button"),M=(0,l.up)("ion-icon"),K=(0,l.up)("v-otp-input"),H=(0,l.up)("home-container");return(0,l.wg)(),(0,l.j4)(H,{title:"Create Login pin","default-href":"/home/account/security","with-header":1===e.step},{default:(0,l.w5)((()=>[1===e.step?((0,l.wg)(),(0,l.iD)("div",u,[(0,l._)("div",i,[(0,l._)("div",s,[(0,l.Wm)(z,null,{default:(0,l.w5)((()=>[r])),_:1})])]),(0,l.Wm)(A,{position:"stacked"},{default:(0,l.w5)((()=>[c])),_:1}),(0,l.Wm)(T,{class:"border rounded ion-margin-bottom",lines:"none"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{modelValue:e.pin,"onUpdate:modelValue":n[0]||(n[0]=n=>e.pin=n),maxlength:"4",minlength:"4",placeholder:"Enter a 4-digit pin here"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(A,{position:"stacked"},{default:(0,l.w5)((()=>[p])),_:1}),(0,l.Wm)(T,{class:"border rounded ion-margin-bottom",lines:"none"},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{modelValue:e.confirm_pin,"onUpdate:modelValue":n[1]||(n[1]=n=>e.confirm_pin=n),maxlength:"4",minlength:"4",placeholder:"Confirm pin here"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(V,{disabled:!e.pin||!e.confirm_pin||e.pin!==e.confirm_pin,strong:"",onClick:(0,o.iM)(e.nextStep,["prevent"]),class:"ion-margin-horizontal my-5",expand:"block"},{default:(0,l.w5)((()=>[d])),_:1},8,["disabled","onClick"])])):(0,l.kq)("",!0),2===e.step?((0,l.wg)(),(0,l.iD)("div",h,[(0,l.Wm)(T,{lines:"none",class:"ion-no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{color:"dark",slot:"start",fill:"clear",onClick:n[2]||(n[2]=(0,o.iM)((n=>e.step--),["prevent"]))},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{slot:"icon-only",icon:e.arrowBackOutline},null,8,["icon"])])),_:1}),(0,l.Wm)(z,{slot:"start"},{default:(0,l.w5)((()=>[m])),_:1})])),_:1}),(0,l._)("div",f,[(0,l._)("div",v,[(0,l.Wm)(z,null,{default:(0,l.w5)((()=>[w])),_:1})])]),(0,l._)("div",g,[(0,l.Wm)(K,{"input-type":"password",onOnComplete:e.handleOnComplete,inputClasses:"otp-input",numInputs:4,separator:" "},null,8,["onOnComplete"])]),(0,l._)("div",y,[(0,l._)("div",k,[(0,l.Wm)(z,null,{default:(0,l.w5)((()=>[(0,l._)("p",O,[_,b,(0,l._)("strong",null,(0,a.zw)(e.countdown),1)])])),_:1})])]),(0,l.Wm)(V,{strong:"",disabled:!e.authorized,onClick:(0,o.iM)(e.processSend,["prevent"]),class:"ion-margin-horizontal my-4",expand:"block"},{default:(0,l.w5)((()=>[(0,l.Wm)(A,null,{default:(0,l.w5)((()=>[C])),_:1})])),_:1},8,["disabled","onClick"]),(0,l._)("div",x,[(0,l.Wm)(z,null,{default:(0,l.w5)((()=>[(0,l._)("p",D,[(0,l.Wm)(z,null,{default:(0,l.w5)((()=>[I])),_:1}),(0,l._)("strong",{onClick:n[3]||(n[3]=(...n)=>e.countDownTick&&e.countDownTick(...n)),class:"text-primary"},"Request another code")])])),_:1})])])):(0,l.kq)("",!0),3===e.step?((0,l.wg)(),(0,l.iD)("div",W,[(0,l.Wm)(M,{class:"icon-container mb-5",style:{"font-size":"4rem"},icon:e.checkmarkOutline},null,8,["icon"]),F,(0,l.Wm)(V,{strong:"",onClick:n[4]||(n[4]=(0,o.iM)((n=>e.router.push("/home/account/security")),["prevent"])),class:"ion-margin-horizontal my-4 w-100",expand:"block"},{default:(0,l.w5)((()=>[(0,l.Wm)(A,null,{default:(0,l.w5)((()=>[U])),_:1})])),_:1})])):(0,l.kq)("",!0)])),_:1},8,["with-header"])}var S=t(8903),j=t(2119),z=t(6511),A=t(815),B=(0,l.aZ)({components:{VOtpInput:A.Z},data(){return{pin:null,confirm_pin:null,step:1,countdown:null,timer:null,disableAuthorization:!0,otp:null}},async ionViewDidLeave(){this.resetFields()},computed:{authorized(){return this.otp&&!this.disableAuthorization}},setup(){const e=(0,j.tv)();return{router:e,arrowBackOutline:S.Pjk,checkmarkOutline:S.TjA}},methods:{resetFields(){clearInterval(this.timer),this.step=1,this.countdown=null,this.timer=null,this.disableAuthorization=!0,this.otp=null,this.pin=null,this.confirm_pin=null},countDownTick(){clearInterval(this.timer),this.disableAuthorization=!1;let e=(new Date).setMinutes((new Date).getMinutes()+1);this.timer=setInterval((()=>{var n=(new Date).getTime(),t=e-n,l=Math.floor(t%36e5/6e4),o=Math.floor(t%6e4/1e3);if(l=l<10?"0"+l:l,o=o<10?"0"+o:o,t<2)return clearInterval(this.timer),void(this.disableAuthorization=!0);this.countdown=l+":"+o}),1e3)},handleOnComplete(e){this.otp=e,this.disableAuthorization=!1,this.processSend()},async processSend(){let e=await z.G0.create({message:"Please wait..."});e.present(),setTimeout((()=>{this.step++,e.dismiss()}),1e3)},nextStep(){this.step++,clearInterval(this.timer),2===this.step&&this.countDownTick()}}}),T=t(3744);const V=(0,T.Z)(B,[["render",P]]);var M=V},815:function(e,n,t){t.d(n,{Z:function(){return y}});var l=t(6252),o=t(2262),a=t(3577),u=t(9963),i=(0,l.aZ)({name:"SingleOtpInput",props:{inputType:{type:String,default:"tel"},value:{type:String},separator:{type:String},focus:{type:Boolean},inputClasses:{type:String},shouldAutoFocus:{type:Boolean},isLastChild:{type:Boolean}},emits:["on-change","on-keydown","on-paste","on-focus","on-blur"],setup(e,n){let{emit:t}=n;const a=(0,o.iH)(e.value||""),u=(0,o.iH)(null),i=()=>(a.value.length>1&&(a.value=a.value.slice(0,1)),t("on-change",a.value)),s=e=>e>=48&&e<=57||e>=96&&e<=105,r=e=>{const n=e||window.event,l=n.which?n.which:n.keyCode;s(l)||[8,9,13,37,39,46,86].includes(l)?t("on-keydown",e):n.preventDefault()},c=e=>t("on-paste",e),p=()=>(u.value.select(),t("on-focus")),d=()=>t("on-blur");return(0,l.YP)((()=>e.value),((e,n)=>{e!==n&&(a.value=e)})),(0,l.YP)((()=>e.focus),((n,t)=>{t!==n&&u.value&&e.focus&&(u.value.focus(),u.value.select())})),(0,l.bv)((()=>{u.value&&e.focus&&e.shouldAutoFocus&&(u.value.focus(),u.value.select())})),{handleOnChange:i,handleOnKeyDown:r,handleOnPaste:c,handleOnFocus:p,handleOnBlur:d,input:u,model:a}}});const s={style:{display:"flex","align-items":"center"}},r=["type"];function c(e,n,t,o,i,c){return(0,l.wg)(),(0,l.iD)("div",s,[(0,l.wy)((0,l._)("input",{type:e.inputType,ref:"input",min:"0",max:"9",maxlength:"1",pattern:"[0-9]","onUpdate:modelValue":n[0]||(n[0]=n=>e.model=n),class:(0,a.C_)(e.inputClasses),onInput:n[1]||(n[1]=function(){return e.handleOnChange&&e.handleOnChange(...arguments)}),onKeydown:n[2]||(n[2]=function(){return e.handleOnKeyDown&&e.handleOnKeyDown(...arguments)}),onPaste:n[3]||(n[3]=function(){return e.handleOnPaste&&e.handleOnPaste(...arguments)}),onFocus:n[4]||(n[4]=function(){return e.handleOnFocus&&e.handleOnFocus(...arguments)}),onBlur:n[5]||(n[5]=function(){return e.handleOnBlur&&e.handleOnBlur(...arguments)})},null,42,r),[[u.YZ,e.model]])])}i.render=c;const p=8,d=37,h=39,m=46;var f=(0,l.aZ)({name:"Vue3OtpInput",components:{SingleOtpInput:i},props:{numInputs:{default:4},separator:{type:String,default:"**"},inputClasses:{type:String},inputType:{type:String,validator:e=>["number","tel","password"].includes(e)},shouldAutoFocus:{type:Boolean,default:!1}},setup(e,n){let{emit:t}=n;const l=(0,o.iH)(0),a=(0,o.iH)([]),u=(0,o.iH)([]),i=e=>{l.value=e},s=()=>{l.value=-1},r=()=>a.value.join("").length===e.numInputs?t("on-complete",a.value.join("")):"Wait until the user enters the required number of characters",c=n=>{l.value=Math.max(Math.min(e.numInputs-1,n),0)},f=()=>{c(l.value+1)},v=()=>{c(l.value-1)},w=e=>{u.value=Object.assign([],a.value),a.value[l.value]=e,u.value.join("")!==a.value.join("")&&(t("on-change",a.value.join("")),r())},g=n=>{n.preventDefault();const t=n.clipboardData.getData("text/plain").slice(0,e.numInputs-l.value).split("");if("number"===e.inputType&&!t.join("").match(/^\d+$/))return"Invalid pasted data";const o=a.value.slice(0,l.value),u=o.concat(t);return u.slice(0,e.numInputs).forEach((function(e,n){a.value[n]=e})),c(u.slice(0,e.numInputs).length),r()},y=e=>{w(e),f()},k=()=>{a.value.length>0&&t("on-change",""),a.value=[],l.value=0},O=e=>{switch(e.keyCode){case p:e.preventDefault(),w(""),v();break;case m:e.preventDefault(),w("");break;case d:e.preventDefault(),v();break;case h:e.preventDefault(),f();break}};return{activeInput:l,otp:a,oldOtp:u,clearInput:k,handleOnPaste:g,handleOnKeyDown:O,handleOnBlur:s,changeCodeAtFocus:w,focusInput:c,focusNextInput:f,focusPrevInput:v,handleOnFocus:i,checkFilledAllInputs:r,handleOnChange:y}}});const v={style:{display:"flex"}},w={key:0,autocomplete:"off",name:"hidden",type:"text",style:{display:"none"}};function g(e,n,t,o,a,u){const i=(0,l.up)("SingleOtpInput");return(0,l.wg)(),(0,l.iD)("div",v,["password"===e.inputType?((0,l.wg)(),(0,l.iD)("input",w)):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.numInputs,((t,o)=>((0,l.wg)(),(0,l.j4)(i,{key:o,focus:e.activeInput===o,value:e.otp[o],separator:e.separator,"input-type":e.inputType,"input-classes":e.inputClasses,"is-last-child":o===e.numInputs-1,"should-auto-focus":e.shouldAutoFocus,onOnChange:n[0]||(n[0]=n=>e.handleOnChange(n)),onOnKeydown:e.handleOnKeyDown,onOnPaste:e.handleOnPaste,onOnFocus:n=>e.handleOnFocus(o),onOnBlur:e.handleOnBlur},null,8,["focus","value","separator","input-type","input-classes","is-last-child","should-auto-focus","onOnKeydown","onOnPaste","onOnFocus","onOnBlur"])))),128))])}f.render=g;var y=(()=>{const e=f;return e.install=n=>{n.component("Vue3OtpInput",e)},e})()}}]);
//# sourceMappingURL=746.b5735660.js.map